{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/my-command.js","webpack://exports/external \"sketch\""],"names":["doc","sketch","getSelectedDocument","selectedLayers","pasteBoard","NSPasteboard","generalPasteboard","input","stringForType","NSPasteboardTypeString","lines","split","forEach","declaration","colon","indexOf","prop","slice","trim","val","layer","style","fontSize","parseFloat","textColor","lineHeight","fontWeight","convertWeight","textDecorations","convertDecoration","textUnderline","textStrikethrough","fontFamily","convertFontFamily","fontStyle","undefined","alertM","weight","select_weight","Math","round","app_kit_font_weights","dec","substring","decorations","i","length","convertColor","orig","parsedColor","match","newColor","stringToHex","isNaN","fonts","firstFont","replace","str","parseInt","toString","padStart","alert","console","log","UI","message"],"mappings":"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","file":"my-command.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/my-command.js\");\n","import sketch from 'sketch'\n\nexport default function() {\n  const doc = sketch.getSelectedDocument();\n  const selectedLayers = doc.selectedLayers;\n  const pasteBoard = NSPasteboard.generalPasteboard();\n  const input = pasteBoard.stringForType(NSPasteboardTypeString);\n  const lines = input.split(\"\\n\");\n  lines.forEach(declaration => {\n    let colon = declaration.indexOf(\":\");\n    if(colon !== -1)  {\n      let prop = declaration.slice(0, colon).trim();\n      let val = declaration.slice(colon+1).trim();\n      selectedLayers.forEach(layer => {\n        switch(prop)  {\n          case 'font-size':\n            layer.style.fontSize = parseFloat(val);\n            break;\n          case 'color':\n            layer.style.textColor = val;\n            break;\n          case 'line-height':\n            layer.style.lineHeight = parseFloat(val);\n            break;\n          case 'font-weight':\n            layer.style.fontWeight = convertWeight(val);\n            break;\n          case 'text-decoration':\n            let textDecorations = convertDecoration(val);\n            layer.style.textUnderline = textDecorations[0];\n            layer.style.textStrikethrough = textDecorations[1];\n            break;\n          case 'font-family':\n            layer.style.fontFamily = convertFontFamily(val);\n            break;\n          case 'font-style':\n            layer.style.fontStyle = (val === 'italic' || val === 'oblique' ? 'italic' : undefined);\n            break;\n          default:\n            alertM('Unknown CSS property: ' + prop);\n        }\n      })\n    }\n  })\n}\n\nfunction convertWeight(weight)  {\n  if (weight <= 50 || weight >= 950)  return 5;\n  let select_weight = Math.round(weight / 100) - 1;\n  const app_kit_font_weights = [\n    2,   // FontWeight100\n    3,   // FontWeight200\n    4,   // FontWeight300\n    5,   // FontWeight400\n    6,   // FontWeight500\n    8,   // FontWeight600\n    9,   // FontWeight700\n    10,  // FontWeight800\n    12,  // FontWeight900\n  ]\n  return app_kit_font_weights[select_weight];\n}\n\nfunction convertDecoration(dec) {\n  dec = dec.substring(0,dec.indexOf(\"rgb\") - 1);\n  let split = dec.split(' ');\n\n  let decorations = [];\n  for(let i = 0; i < split.length - 1; ++i) {\n    switch(split[i])  {\n      case 'underline':\n        decorations[0] = true;\n        break;\n      case 'line-through':\n        decorations[1] = true;\n        break;\n      case 'none':\n        decorations[0] = false;\n        decorations[1] = false;\n        break;\n      default:\n        alertM('Unknown text-decoration: ' + split[i]);\n    }\n  }\n\n  for(let i = 0; i <= 1; ++i) {\n    if(decorations[i]) {\n      switch(split[split.length - 1]) {\n        case 'double':\n          decorations[i] = 'double';\n          break;\n        case 'solid':\n          decorations[i] = 'single';\n          break;\n        case 'dotted':\n          decorations[i] = 'single dot';\n          break;\n        case 'dashed':\n          decorations[i] = 'single dash';\n          break;\n        default:\n          alertM('Unknown text-decoration-style: ' + split[split.length - 1]);\n      }\n    }\n  }\n\n  return decorations;\n}\n\nfunction convertColor(orig) {\n  let parsedColor = orig.match(/^[^\\d]*\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*([\\d\\.]+))?\\)\\s*$/);\n  let newColor = \"#\";\n  for(let i = 1; i < 4; ++i)  {\n    newColor += stringToHex(parsedColor[i]);\n  }\n  newColor += stringToHex(isNaN(parsedColor[4]) ? 255 : parsedColor[4] * 255);\n  return newColor;\n}\n\nfunction convertFontFamily(fonts) {\n  let firstFont = fonts.indexOf(',');\n  if(firstFont !== -1)  {\n    fonts = fonts.substring(0,firstFont);\n  }\n  return fonts.replace(/\"|'/g,'');\n}\n\nfunction stringToHex(str)  {\n  return parseInt(str).toString(16).padStart(2, \"0\");\n}\n\nfunction alertM(alert)  {\n  console.log(alert);\n  sketch.UI.message(alert);\n}\n","module.exports = require(\"sketch\");"],"sourceRoot":""}